{
  "Logging": {
    "IncludeScopes": false,
    "LogOutputTemplate": "[{Timestamp:dd-MM-yyyy HH:mm:ss, fff}] {Level} {Properties} [CorrelationId:{CorrelationId}] [Machine: {MachineName}] {CallerType}:{MemberName} {Message}{NewLine}{Exception} {NewLine}",
    "Console": {
      "Enabled": true,
      "LogLevel": "Debug"
    },
    "Elastic": {
      "Enabled": true,
      "LogLevel": "Debug"
    }
  },
  "AppConfigurations": {
    "ApplicationIdentifier": "Blogsphere.Api.Gateway",
    "ApplicationEnvironment": "Development"
  },
  "Elasticsearch": {
    "Uri": "http://localhost:9200"
  },
  "Zipkin": {
    "Url": "http://localhost:9411/api/v2/spans"
  },
  "IdentityGroupAccess": {
    "Authority": "http://localhost:5000",
    "Audience": "http://localhost:5000/resources"
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=BlogsphereProxy;Username=admin;Password=admin"
  },
  "ReverseProxy": {
    "Routes": {
      "userapi-v1": {
        "ClusterId": "blogsphereusersvc",
        "RateLimiterPolicy": "blogsphereratelimitter",
        "Match": {
          "Path": "/user/healthcheck",
          "Method": ["GET"],
          "Headers": [
            {
              "Name": "api-version",
              "Values": ["v1"],
              "Mode": "ExactHeader"
            }
          ]
        },
        "Transforms": [
          {
            "PathPattern": "healthcheck"
          }
        ]
      },
      "userapi-v2": {
        "ClusterId": "blogsphereusersvc",
        "RateLimiterPolicy": "blogsphereratelimitter",
        "Match": {
          "Path": "/user/{**catch-all}",
          "Method": ["GET", "POST", "PUT", "DELETE"],
          "Headers": [
            {
              "Name": "api-version",
              "Values": ["v2"],
              "Mode": "ExactHeader"
            }
          ]
        },
        "Transforms": [
          {
            "PathPattern": "api/v2/{**catch-all}"
          }
        ]
      }
    }
  }
}
